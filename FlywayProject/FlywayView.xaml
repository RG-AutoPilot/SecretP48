<UserControl x:Class="FlywayProject.FlywayView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White">
    <Grid Margin="10">
        <TabControl>
            <TabItem Header="Connection">
                <StackPanel Margin="20">
                    <TextBlock Text="SQL Instance" FontWeight="SemiBold"/>
                    <TextBox x:Name="SqlInstanceTextBox" Height="28" Margin="0,5,0,10"/>

                    <CheckBox x:Name="WindowsAuthCheckBox" IsChecked="True" Content="Use Windows Authentication" Margin="0,0,0,10"/>

                    <TextBlock Text="Username" FontWeight="SemiBold"/>
                    <TextBox x:Name="UsernameTextBox" Height="28" Margin="0,5,0,10"/>

                    <TextBlock Text="Password" FontWeight="SemiBold"/>
                    <PasswordBox x:Name="PasswordBox" Height="28" Margin="0,5,0,10"/>

                    <TextBlock Text="Development Database" FontWeight="SemiBold"/>
                    <TextBox x:Name="SourceDbTextBox" Text="Development" Height="28" Margin="0,5,0,10"/>

                    <TextBlock Text="Target Database" FontWeight="SemiBold"/>
                    <TextBox x:Name="TargetDbTextBox" Text="Test" Height="28" Margin="0,5,0,10"/>

                    <CheckBox x:Name="EncryptConnectionCheckBox" IsChecked="True" Content="Encrypt connection" Margin="0,0,0,10"/>
                    <CheckBox x:Name="TrustCertCheckBox" IsChecked="True" Content="Trust server certificate" Margin="0,0,0,10"/>

                    <TextBlock Text="Flyway Project Folder" FontWeight="SemiBold"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                        <TextBox x:Name="FlywayConfigFileTextBox" Width="350" TextChanged="OnFlywayConfigPathChanged"/>
                        <Button Content="Browse..." Click="OnBrowseFlywayConfigClicked" Margin="5,0,0,0"/>
                        <Button Content="✓" Click="OnConfirmFlywayConfigClicked" Margin="5,0,0,0" Width="30" ToolTip="Confirm Path"/>
                    </StackPanel>

                    <Button Content="Test Connection" Click="OnTestConnectionClicked" Width="200" Height="30" Margin="0,10,0,0"/>

                    <StackPanel Orientation="Horizontal" Margin="0,15,0,0" HorizontalAlignment="Left">
                        <Button Content="Install Flyway CLIs" Click="OnInstallFlywayClisClicked" Width="150" Height="28" Margin="0,0,10,0"/>
                        <Button Content="Install dbatools" Click="OnInstallDbatoolsClicked" Width="150" Height="28"/>
                        <Button Content="Authenticate License / Trial" Click="OnAuthenticateFWClicked" Width="180" Height="28" Margin="10,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>

            <TabItem Header="Source Control">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20" MaxWidth="600">
                        <TextBlock Text="Flyway Capture" FontSize="18" FontWeight="Bold" Foreground="#AA0000" Margin="0,0,0,20"/>
                        <TextBlock Text="Flyway Directory" FontWeight="SemiBold"/>
                        <TextBox x:Name="TempFlywayDirBox" Margin="0,5,0,15"/>
                        <TextBlock Text="Source Environment" FontWeight="SemiBold"/>
                        <TextBox x:Name="TempFlywaySourceBox" Margin="0,5,0,15"/>
                        <Button Content="Capture Changes" Click="OnCaptureClicked" Width="140" Height="32" Background="#AA0000" Foreground="White"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <TabItem Header="Deploy">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20" MaxWidth="600">
                        <TextBlock Text="Flyway Deployment" FontSize="18" FontWeight="Bold" Foreground="#AA0000" Margin="0,0,0,20"/>
                        <TextBlock Text="Flyway Directory" FontWeight="SemiBold"/>
                        <TextBox x:Name="FlywayDirBox" Margin="0,5,0,15"/>
                        <TextBlock Text="Source Environment" FontWeight="SemiBold"/>
                        <ComboBox x:Name="FlywaySourceEnvComboBox" Margin="0,5,0,15"/>

                        <TextBlock Text="Target Environment" FontWeight="SemiBold"/>
                        <ComboBox x:Name="FlywayTargetEnvComboBox" Margin="0,5,0,15"/>

                        <TextBox x:Name="FlywayTargetBox" Margin="0,5,0,15"/>
                        <TextBlock Text="Additional Parameters (optional)" FontWeight="SemiBold"/>
                        <TextBox x:Name="FlywayParamsBox" Margin="0,5,0,20"/>
                        <Button Content="Deploy" Click="OnDeployClicked" Width="120" Height="32" Background="#AA0000" Foreground="White"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
